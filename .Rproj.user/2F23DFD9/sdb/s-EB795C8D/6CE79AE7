{
    "collab_server" : "",
    "contents" : "---\ntitle: \"DOSCHEDA Report\"\noutput: html_document\nparams:\n  object: NA\n---\n\n```{r packageload, echo = FALSE, warning=FALSE}\n \n```\nThis is a summary of the data processing and plots created in the DOSCHEDA shiny app.\n\n\n \nNumber of Channels | Number of Replicates | Input Type | Model fitted\n---|---|---|---\n`r params$object@parameters$chans`|`r params$object@parameters$chans` | `r ` | `r ifelse(params$object@parameters$modelType == 'sigmoid','Sigmoidal','Linear')`\n \n \n```{r reptest,echo = FALSE}\n   # reptest <- ifelse(params$reps > 1,TRUE,FALSE)\nex<- params$object\nob_params <- getParameters(ex)\nif(ob_params$reps == 1){\n  reptest <- FALSE\n  \n}else{\n  reptest <- TRUE\n}\n```\n\n**Figure 1: Box plot of Data Columns**\n \n```{r boxplo, echo=FALSE, eval=TRUE}\n\n \n\nboxplot(ex)\n \n```\n \n**Description:**\n \nHere we should observe the means centered at approximately zero across all channels and replicates.\n \n**Figure 2: Ranked plot of proteins FC and Density plot of Data Columns**\n \n```{r scatt, echo = FALSE}\n\n    densityPlot(ex)\n```\n \n**Description:**\n \n\nThese plots show the density distribution of each channel and the distribution of the ranked proteins. The Density plots should have a bell shaped distributions and be approximately centred at zero. \n \n\n**Figure 3: Mean vs standard deviation plot**\n \n```{r meansd, echo = FALSE}\n \nmeanSdPlot(ex)\n \n```\n \n**Description:**\n \nThe ranked row means versus the standard deviations for checking any dependence of the variance on the mean. The red line is a running median estimator with window-width at 10%. If this red line is approximately horizontal, this indicates no variance-mean dependence.\n\n \n**Figure 5: Pearson Correlation between Conditions**\n \n```{r corrgrm, echo = FALSE }\n    corrPlot(params$object)\n \n```\n \n**Description:**\n \nThe Pearson correlations (*r*) between all the different channels are displayed. None of the channels are expected to be anti-correlated (*r < 0*). The QC in DOSCHEDA will highlight whether there are anti-correlated pairs of channels.\n \n \n \n**Figure 6: Principal-Component Analysis of Data columns**\n```{r pca , echo = FALSE}\n\npcaPlot(params$object) \n\n```\n \n**Description:**\n \nPlot of two highest principal components. Replicates should (roughly) cluster together. This plot highlights if any data points are vastly 'out of place' given the experimental design.\n \n**Figure 7: Replicate vs Replicate plots for each Channel.**\n \n```{r repvsrep, echo = FALSE,eval = reptest}\n \nob_param <- getParameters(ex)\nfor (i in 1:ob_param$reps) {\n  for  (j in 1:ob_param$reps){\n    if(i >= j ){\n      next\n    }else{\n      for (k in 0:(ob_param$chans - 1)){\n          replicatePlot(ex,conc = k,repIndex1 = i,repIndex2 = j)\n      }\n    }\n  }\n} \n\n \n```\n \n**Description:**\n \nScatterplots between replicates to identify targets (drug competed proteins) and potential off-targets. Points that have high fold change in both replicates and are close to the red  x = y line are considered to be targets.\n \n \n```{r shwt, echo=FALSE, eval = TRUE}\nif(ob_param$modelType == 'sigmoid'){\n  show_text <- TRUE\n} else{\n\n  show_text <- FALSE\n}\n```\n\n\n```{asis, echo=!show_text}\n## Linear Model Plots \n \nThe following plots are relevant if a linear model has been fitted to the data.\n \n**Figure 8: Distribution of p-values of model coefficients**\n```\n\n```{r pvals, echo = FALSE, eval = !show_text}\n  plot(params$object)\n\n```\n \n\n\n```{asis, echo=!show_text}\n**Description:**\n \nThe p-value distributions for each of the model coefficients are expected to not be uniform. The QC in DOSCHEDA will highlight whether a coeffcient does not contail any significant p-values.\n \n**Figure 9: Volcano plots of model coefficients**\n```\n \n```{r volslop, echo = FALSE,eval = !show_text}\n    for (i in c('slope','intercept','quadratic')){\n      volcanoPlot(ex,coefficient = i)\n    }\n```\n\n\n```{asis, echo=show_text}\n## Sigmoidal Fit Plots \n\nThe following plots are relevant when a sigmoidal model is fitted to the data. They show the top protein profiles for each of the model parameters.\n\n```\n\n```{asis, echo=show_text}\n**Figure 8: Plot of the largest differences between the proteins from the lowest and highest concentrations (over 30%)**\n\n```\n\n```{r conditional_difftpbtm,echo = FALSE, eval = show_text}\nplot(ex,sigmoidCoef = 'difference')\n\n```\n\n```{asis, echo=show_text}\n**Description:**\n\n Plot of the proteins profiles whose difference between the top and bottom parameters of the sigmoidal model are greater than 30%. \n\n``` \n\n\n```{asis, echo=show_text}\n**Figure 9: The top proteins with significant Slope Value**\n\n```\n\n\n```{r conditional_slo,echo = FALSE, eval = show_text}\n\nplot(ex,sigmoidCoef = 'slope')\n\n```\n\n```{asis, echo=show_text}\n**Description:**\n\nThe top 15 protein profiles with a significant slope parameter of the sigmoidal fit. \n\n``` \n\n```{asis, echo=show_text}\n**Figure 10: The top proteins with significant RB50 values**\n\n```\n\n```{r conditional_RB50,echo = FALSE, eval = show_text}\n plot(ex,sigmoidCoef = 'rb50')\n\n```\n\n```{asis, echo=show_text}\n**Description:**\n\nThe top 15 protein profiles with significant RB50 parameter of the sigmoidal fit. \n\n```\n\n",
    "created" : 1497377346543.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "916816915",
    "id" : "6CE79AE7",
    "lastKnownWriteTime" : 1498779761,
    "last_content_update" : 1498779761222,
    "path" : "~/Desktop/Doscheda/inst/rmd/report.Rmd",
    "project_path" : "inst/rmd/report.Rmd",
    "properties" : {
        "tempName" : "Untitled2"
    },
    "relative_order" : 23,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_markdown"
}