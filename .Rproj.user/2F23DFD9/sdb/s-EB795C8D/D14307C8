{
    "collab_server" : "",
    "contents" : "## tesing functions on data\n\nsetwd(\"~/Documents/DOSCHEDA-Shiny/data/\")\n\nintensityData <- read.csv(\"~/Documents/DOSCHEDA-Shiny/data/LinearIntensities.csv\", stringsAsFactors = FALSE)\n\nchannelNames <- c(\"Abundance..F1..126..Control..REP_1\",\n \"Abundance..F1..127..Sample..REP_1\",  \"Abundance..F1..128..Sample..REP_1\",  \"Abundance..F1..129..Sample..REP_1\",  \"Abundance..F1..130..Sample..REP_1\",\n \"Abundance..F1..131..Sample..REP_1\",  \"Abundance..F2..126..Control..REP_2\", \"Abundance..F2..127..Sample..REP_2\", \"Abundance..F2..128..Sample..REP_2\",\n \"Abundance..F2..129..Sample..REP_2\",  \"Abundance..F2..130..Sample..REP_2\", \"Abundance..F2..131..Sample..REP_2\")\n\n## setData ....\ntest <- Doscheda:::DoschedaSet()\ntest<- setParameters(x = test,chansVal = 6, repsVal = 2,dataTypeStr = 'intensity', modelTypeStr = 'linear',PDBool = FALSE,removePepsBool = FALSE,incPDofPDBool = FALSE,incGeneFileBool = FALSE,organismStr = 'H.sapiens', pearsonThrshVal = 0.4)\n\ntest<- setData(x = test, dataFrame = doschedaData, dataChannels = channelNames, accessionChannel = \"Master.Protein.Accessions\",\n        sequenceChannel = 'Sequence', qualityChannel = \"Qvality.PEP\" )\n\ntest <- removePeptides(test,removePeps = FALSE)\n\ntest <- runNormalisation(test)\n\ntest<- fitModel(test)\n\nboxplot(test)\ndensityPlot(test)\nreplicatePlot(test,conc = 0,1,2)\nvolcanoPlot(test)\nplot(test)\n\nremove_peptides(DataFrame = intensityData, chans = 6, reps = 2, accessionID = \"Master.Protein.Accessions\",chanNames = channelNames,\n                sequenceID = \"Sequence\", qualityID = \"Qvality.PEP\",incPDofPD = FALSE, PDofPD = NA,removePeptides = FALSE,modelType = 'linear')\n\n\n\n#### datamerge\n\nsetwd(\"~/Documents/DOSCHEDA-Shiny/data/\")\n\nlinData <- read.csv(\"~/Documents/DOSCHEDA-Shiny/data/LinearFC.csv\", stringsAsFactors = FALSE)\n\nchannelNames <- c(\"A6..114.115_norm_log2\", \"A6..114.116_norm_log2\",  \"A6..114.117_norm_log2\",\n                  \"B6..114.115_norm_log2\", \"B6..114.116_norm_log2\",  \"B6..114.117_norm_log2\")\ntest <- new('ChemoProtSet')\ntest<- setParameters(x=test,\n                     chansVal = 3,\n                     repsVal = 2,\n                     dataTypeStr = 'LFC',\n                     modelTypeStr = 'linear',\n                     PDBool = TRUE,\n                     removePepsBool = FALSE,\n                     incPDofPDBool = FALSE,\n                     incGeneFileBool = FALSE,\n                     organismStr = 'h.sapiens',\n                     pearsonThrshVal = 0.4,\n                     PDofPDname = FALSE,\n                     sigmoidConc = NA\n                     )\ntest2 <- setData(x = test, dataFrame = linData,\n                 dataChannels = channelNames,\n                 accessionChannel = \"Accession\",\n                 uniquePeps = \"Sum...Unique.Peptides.\"\n                  )\n\ntest2 <- runNormalisation(test2)\ntest2 <- fitModel(test2)\n\nnormData <- Doscheda:::normalize_data(dataFrame = linData, chans = 3, reps = 2, PD2  = FALSE, channelNames = channelNames,\n                incPDofPD = FALSE, PDofPD = NA, removePeptides = FALSE, dataType = 'LFC', modelType = 'linear', organism = 'H.sapiens')\n\nmodData <- fit_model(normData,chans = 3 , reps = 2, dataType = 'LFC', modelType = 'linear')\nmodData\n\n## sigmoidal\nsigData <- read.csv(\"~/Documents/DOSCHEDA-Shiny/data/sigmoidalFC.csv\", stringsAsFactors = FALSE)\n\nchannelNames <- c(\"X126.127_N_norm_log2\",\n                   \"X126.127_C_norm_log2\", \"X126.128_N_norm_log2\", \"X126.128_C_norm_log2\", \"X126.129_N_norm_log2\",\n                   \"X126.129_C_norm_log2\", \"X126.130_N_norm_log2\", \"X126.130_C_norm_log2\", \"X126.131_norm_log2\" )\n\nnormData <- normalize_data(dataFrame = sigData, chans = 9, reps = 1, PD2  = TRUE, channelNames = channelNames,\n                           incPDofPD = FALSE, PDofPD = NA, removePeptides = FALSE, dataType = 'LFC', modelType = 'sigmoid', organism = 'H.sapiens')\n\nmodData <- fit_model(normData,chans = 9 , reps = 1, dataType = 'LFC', modelType = 'sigmoid',sigmoidConc = 1:9)\nmodData\n\n\n########### ## sigmoidal\nsigData <- read.csv(\"~/Documents/DOSCHEDA-Shiny/data/SigmoidalIntensities.csv\", stringsAsFactors = FALSE)\n\nchannelNames <- c(\"Abundance..F1..126..Control\",\n                   \"Abundance..F1..127N..Sample\", \"Abundance..F1..127C..Sample\",\n                   \"Abundance..F1..128N..Sample\", \"Abundance..F1..128C..Sample\",\n                   \"Abundance..F1..129N..Sample\", \"Abundance..F1..129C..Sample\",\n                   \"Abundance..F1..130N..Sample\", \"Abundance..F1..130C..Sample\",\n                   \"Abundance..F1..131..Sample\" )\n\ntest3 <- new('ChemoProtSet')\ntest3 <- setParameters(x = test3,chansVal = 9, repsVal = 1,dataTypeStr = 'intensity', modelTypeStr = 'sigmoid',PDBool = FALSE,removePepsBool = FALSE,incPDofPDBool = TRUE,incGeneFileBool = FALSE,organismStr = 'H.sapiens', sigmoidConc = 1:8, pearsonThrshVal = 0.4)\n\ntest3<- setData(x= test3, dataFrame = sigData, dataChannels = channelNames, accessionChannel = \"Master.Protein.Accessions\",\n               sequenceChannel = 'Sequence', qualityChannel = \"Qvality.PEP\",pdofpdChannel = \"Abundance..F1..131..Sample\" )\ntest3 <- removePeptides(test3)\ntest3 <- runNormalisation(test3)\ntest3 <- fitModel(test3)\n\ndataFrame = test3@input\nchans = 8\nreps = 1\naccessionID = 'Accession'\nchanNames = standard_names(8,1,'intensity')\nsequenceID = 'Sequence'\nqualityID = \"Quality\"\nincPDofPD = TRUE\nPDofPD = \"pdofpd\"\nremovePeptides = FALSE\nmodelType = 'sigmoid'\nincGeneFile = FALSE\ngeneFile = NA\n\n\nex<- setParameters(x = ex,chansVal = 6, repsVal = 2,dataTypeStr = 'intensity',\n modelTypeStr = 'linear',PDBool = FALSE,removePepsBool = FALSE,\n incPDofPDBool = FALSE,incGeneFileBool = FALSE,organismStr = 'H.sapiens', pearsonThrshVal = 0.4)\n\nex<- setData(x = ex, dataFrame = doschedaData, dataChannels = channelNames,\n accessionChannel = \"Master.Protein.Accessions\",\n sequenceChannel = 'Sequence',qualityChannel = \"Qvality.PEP\")\n\n\n############\ndataFrame = test2@input\nchans = 3\nreps = 2\nPD2 = TRUE\nchannelNames = test2@parameters$chanNames\nincPDofPD = FALSE\nPDofPD = FALSE\nremovePeptides = FALSE\ndataType = 'LFC'\nmodelType = 'linear'\nincGeneFile = FALSE\nconversionTable = NA\nnormaliseData = 'median'\naccessionID = NA\nuniquePeptides = NA\norganism = 'H.sapiens'\n\nx <- test3\ndataFrame = x@normData\nchans = x@parameters$chans\nreps = x@parameters$reps\nPD2 = x@parameters$PD\nchannelNames = x@parameters$chanNames\nincPDofPD = x@parameters$incPDofPD\nPDofPD = x@parameters$PDofPD\nremovePeptides = x@parameters$removePeps\ndataType = x@parameters$dataType\nmodelType = x@parameters$modelType\norganism = x@parameters$organism\nincGeneFile = x@parameters$incGeneFile\nnormaliseData = 'median'\n\n\n channelNames <- c(\"Abundance..F1..126..Control..REP_1\",\n\"Abundance..F1..127..Sample..REP_1\",  \"Abundance..F1..128..Sample..REP_1\",\n\"Abundance..F1..129..Sample..REP_1\",  \"Abundance..F1..130..Sample..REP_1\",\n\"Abundance..F1..131..Sample..REP_1\",  \"Abundance..F2..126..Control..REP_2\",\n\"Abundance..F2..127..Sample..REP_2\", \"Abundance..F2..128..Sample..REP_2\",\n\"Abundance..F2..129..Sample..REP_2\",  \"Abundance..F2..130..Sample..REP_2\",\n \"Abundance..F2..131..Sample..REP_2\")\n\nex <- runDoscheda(dataFrame = doschedaData, dataChannels = channelNames,\n chansVal = 6, repsVal = 2,dataTypeStr = 'intensity',\n modelTypeStr = 'linear',PDBool = FALSE,removePepsBool = FALSE,\n accessionChannel = \"Master.Protein.Accessions\",\n sequenceChannel = 'Sequence',qualityChannel = \"Qvality.PEP\",\n incPDofPDBool = FALSE, incGeneFileBool = FALSE,\n  organismStr = 'H.sapiens', pearsonThrshVal = 0.4)\n",
    "created" : 1495204523888.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2287380835",
    "id" : "D14307C8",
    "lastKnownWriteTime" : 1498778621,
    "last_content_update" : 1498778621042,
    "path" : "~/DOSCHEDA_R/walk.R",
    "project_path" : null,
    "properties" : {
    },
    "relative_order" : 7,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}